{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/sam/Desktop/timer/next/components/Timer.jsx\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from 'react';\nimport { useLocalState } from './LocalState';\n\nvar Timer = function Timer() {\n  _s();\n\n  var _useState = useState(1),\n      minutes = _useState[0],\n      setMinutes = _useState[1];\n\n  var _useState2 = useState(0),\n      seconds = _useState2[0],\n      setSeconds = _useState2[1];\n\n  var _useState3 = useState(false),\n      isActive = _useState3[0],\n      setIsActive = _useState3[1];\n\n  var roundStarted = useRef();\n\n  var _useLocalState = useLocalState(),\n      dispatch = _useLocalState.dispatch,\n      athletes = _useLocalState.athletes;\n\n  function startRound() {\n    roundStarted.current = new Boolean(true);\n    dispatch({\n      type: 'start-round',\n      payload: athletes\n    });\n  }\n\n  function toggle() {\n    if (!isActive) {\n      if (roundStarted.current == undefined) {\n        startRound();\n      }\n    }\n\n    setIsActive(!isActive);\n  }\n\n  function timerReset() {\n    setMinutes(1);\n    setSeconds(0);\n    dispatch({\n      type: 'transition-climbers'\n    });\n  } //timer control\n\n\n  useEffect(function () {\n    if (isActive) {\n      if (seconds == 0) {\n        if (minutes == 0) {\n          timerReset();\n        }\n\n        if (minutes > 0) {\n          setSeconds(10);\n          setMinutes(minutes - 1);\n        }\n      }\n\n      if (seconds > 0) {\n        setTimeout(function () {\n          return setSeconds(seconds - 1);\n        }, 1000);\n      }\n    }\n  }, [isActive, seconds, minutes]);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3919184678\" + \" \" + 'timer',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3919184678\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, minutes, \" : \", seconds < 10 ? \"0\".concat(seconds) : seconds), __jsx(\"button\", {\n    onClick: toggle,\n    className: \"jsx-3919184678\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, isActive ? 'Stop timer' : 'Start timer')), __jsx(_JSXStyle, {\n    id: \"3919184678\",\n    __self: _this\n  }, \".timer.jsx-3919184678{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYW0vRGVza3RvcC90aW1lci9uZXh0L2NvbXBvbmVudHMvVGltZXIuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXNEZ0IsQUFHMEIsMEVBQ1UsbUdBQ0QsOEVBQ0gsNkZBQ3ZCIiwiZmlsZSI6Ii9Vc2Vycy9zYW0vRGVza3RvcC90aW1lci9uZXh0L2NvbXBvbmVudHMvVGltZXIuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VMb2NhbFN0YXRlIH0gZnJvbSAnLi9Mb2NhbFN0YXRlJ1xuXG5jb25zdCBUaW1lciA9ICgpID0+IHtcbiAgICBjb25zdCBbbWludXRlcywgc2V0TWludXRlc10gPSB1c2VTdGF0ZSgxKVxuICAgIGNvbnN0IFtzZWNvbmRzLCBzZXRTZWNvbmRzXSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW2lzQWN0aXZlLCBzZXRJc0FjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCByb3VuZFN0YXJ0ZWQgPSB1c2VSZWYoKVxuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIGF0aGxldGVzIH0gPSB1c2VMb2NhbFN0YXRlKClcblxuICAgIGZ1bmN0aW9uIHN0YXJ0Um91bmQoKSB7XG4gICAgICAgIHJvdW5kU3RhcnRlZC5jdXJyZW50ID0gbmV3IEJvb2xlYW4odHJ1ZSk7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ3N0YXJ0LXJvdW5kJywgcGF5bG9hZDogYXRobGV0ZXN9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgICAgIGlmKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgaWYocm91bmRTdGFydGVkLmN1cnJlbnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRSb3VuZCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNBY3RpdmUoIWlzQWN0aXZlKVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiB0aW1lclJlc2V0KCkge1xuICAgICAgICBzZXRNaW51dGVzKDEpXG4gICAgICAgIHNldFNlY29uZHMoMClcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAndHJhbnNpdGlvbi1jbGltYmVycycgfSlcbiAgICB9XG4gICAgXG4gICAgLy90aW1lciBjb250cm9sXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIGlmKHNlY29uZHMgPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmKG1pbnV0ZXMgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lclJlc2V0KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYobWludXRlcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2Vjb25kcygxMClcbiAgICAgICAgICAgICAgICAgICAgc2V0TWludXRlcyhtaW51dGVzIC0gMSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzZWNvbmRzID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2Vjb25kcyhzZWNvbmRzIC0gMSksIDEwMDApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbaXNBY3RpdmUsIHNlY29uZHMsIG1pbnV0ZXNdKVxuXG4gICAgcmV0dXJuIChcbiAgICA8PlxuICAgIDxkaXYgY2xhc3NOYW1lPSd0aW1lcic+XG4gICAgICAgIDxoMT57bWludXRlc30gOiB7c2Vjb25kcyA8IDEwID8gYDAke3NlY29uZHN9YCA6IHNlY29uZHN9PC9oMT5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0b2dnbGV9Pntpc0FjdGl2ZSA/ICdTdG9wIHRpbWVyJyA6ICdTdGFydCB0aW1lcid9PC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAudGltZXJ7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgIGB9PC9zdHlsZT5cbiAgICA8Lz5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVyIl19 */\\n/*@ sourceURL=/Users/sam/Desktop/timer/next/components/Timer.jsx */\"));\n};\n\n_s(Timer, \"hDr+Pjw4j+AzMjro5KqLgwffpRg=\", false, function () {\n  return [useLocalState];\n});\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/Users/sam/Desktop/timer/next/components/Timer.jsx"],"names":["useState","useEffect","useRef","useLocalState","Timer","minutes","setMinutes","seconds","setSeconds","isActive","setIsActive","roundStarted","dispatch","athletes","startRound","current","Boolean","type","payload","toggle","undefined","timerReset","setTimeout"],"mappings":";;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,SAASC,aAAT,QAA8B,cAA9B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAAA,kBACcJ,QAAQ,CAAC,CAAD,CADtB;AAAA,MACTK,OADS;AAAA,MACAC,UADA;;AAAA,mBAEcN,QAAQ,CAAC,CAAD,CAFtB;AAAA,MAETO,OAFS;AAAA,MAEAC,UAFA;;AAAA,mBAGgBR,QAAQ,CAAC,KAAD,CAHxB;AAAA,MAGTS,QAHS;AAAA,MAGCC,WAHD;;AAIhB,MAAMC,YAAY,GAAGT,MAAM,EAA3B;;AAJgB,uBAKeC,aAAa,EAL5B;AAAA,MAKRS,QALQ,kBAKRA,QALQ;AAAA,MAKEC,QALF,kBAKEA,QALF;;AAOhB,WAASC,UAAT,GAAsB;AAClBH,IAAAA,YAAY,CAACI,OAAb,GAAuB,IAAIC,OAAJ,CAAY,IAAZ,CAAvB;AACAJ,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE,aAAR;AAAuBC,MAAAA,OAAO,EAAEL;AAAhC,KAAD,CAAR;AACH;;AAED,WAASM,MAAT,GAAkB;AACd,QAAG,CAACV,QAAJ,EAAc;AACV,UAAGE,YAAY,CAACI,OAAb,IAAwBK,SAA3B,EAAsC;AAClCN,QAAAA,UAAU;AACb;AACJ;;AACDJ,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACH;;AAED,WAASY,UAAT,GAAsB;AAClBf,IAAAA,UAAU,CAAC,CAAD,CAAV;AACAE,IAAAA,UAAU,CAAC,CAAD,CAAV;AACAI,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACH,GAzBe,CA2BhB;;;AACAhB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAGQ,QAAH,EAAa;AACT,UAAGF,OAAO,IAAI,CAAd,EAAiB;AACb,YAAGF,OAAO,IAAI,CAAd,EAAiB;AACbgB,UAAAA,UAAU;AACb;;AACD,YAAGhB,OAAO,GAAG,CAAb,EAAgB;AACZG,UAAAA,UAAU,CAAC,EAAD,CAAV;AACAF,UAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACH;AACJ;;AACD,UAAGE,OAAO,GAAG,CAAb,EAAgB;AACZe,QAAAA,UAAU,CAAC;AAAA,iBAAMd,UAAU,CAACD,OAAO,GAAG,CAAX,CAAhB;AAAA,SAAD,EAAgC,IAAhC,CAAV;AACH;AACJ;AACJ,GAfQ,EAeN,CAACE,QAAD,EAAWF,OAAX,EAAoBF,OAApB,CAfM,CAAT;AAiBA,SACA,4BACA;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,OAAL,SAAiBE,OAAO,GAAG,EAAV,cAAmBA,OAAnB,IAA+BA,OAAhD,CADJ,EAEI;AAAQ,IAAA,OAAO,EAAEY,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BV,QAAQ,GAAG,YAAH,GAAkB,aAApD,CAFJ,CADA;AAAA;AAAA;AAAA,kqGADA;AAgBH,CA7DD;;GAAML,K;UAK6BD,a;;;KAL7BC,K;AA+DN,eAAeA,KAAf","sourcesContent":["import { useState, useEffect, useRef } from 'react'\nimport { useLocalState } from './LocalState'\n\nconst Timer = () => {\n    const [minutes, setMinutes] = useState(1)\n    const [seconds, setSeconds] = useState(0)\n    const [isActive, setIsActive] = useState(false)\n    const roundStarted = useRef()\n    const { dispatch, athletes } = useLocalState()\n\n    function startRound() {\n        roundStarted.current = new Boolean(true);\n        dispatch({ type: 'start-round', payload: athletes})\n    }\n    \n    function toggle() {\n        if(!isActive) {\n            if(roundStarted.current == undefined) {\n                startRound()\n            }\n        }\n        setIsActive(!isActive)\n    }\n    \n    function timerReset() {\n        setMinutes(1)\n        setSeconds(0)\n        dispatch({ type: 'transition-climbers' })\n    }\n    \n    //timer control\n    useEffect(() => {\n        if(isActive) {\n            if(seconds == 0) {\n                if(minutes == 0) {\n                    timerReset()\n                }\n                if(minutes > 0) {\n                    setSeconds(10)\n                    setMinutes(minutes - 1)\n                }\n            }\n            if(seconds > 0) {\n                setTimeout(() => setSeconds(seconds - 1), 1000)\n            }\n        }\n    }, [isActive, seconds, minutes])\n\n    return (\n    <>\n    <div className='timer'>\n        <h1>{minutes} : {seconds < 10 ? `0${seconds}` : seconds}</h1>\n        <button onClick={toggle}>{isActive ? 'Stop timer' : 'Start timer'}</button>\n    </div>\n    <style jsx>{`\n        .timer{\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n            align-items: center;\n        }\n    `}</style>\n    </>\n    )\n}\n\nexport default Timer"]},"metadata":{},"sourceType":"module"}